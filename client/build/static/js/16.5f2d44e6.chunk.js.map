{"version":3,"sources":["JS/actions/voiture.js","JS/actions/category.js","JS/actions/sub.js","components/form/FileUpload.jsx","pages/public/FormAuto.jsx"],"names":["createVoiture","voiture","a","axios","post","process","getVoituresByValidationCount","validation","count","removeVoiture","_id","authtoken","delete","headers","getVoiture","get","updateVoiture","put","updateValidation","getVoitures","sort","order","page","getVoituresCount","getCategories","getCategory","slug","removeCategory","createCategory","category","getCategorySubs","getSubs","getSub","removeSub","createSub","sub","FileUpload","images","setImages","setLoading","setOk","fileUploadAndResize","e","files","target","allUploadedFiles","i","length","Resizer","imageFileResizer","uri","Axios","image","then","res","console","log","push","data","catch","err","style","backgroundColor","color","marginRight","className","width","height","type","multiple","hidden","accept","onChange","FormAuto","year","Date","getFullYear","years","Array","from","val","index","useEffect","c","setCategories","toast","error","useState","marque","setMarque","modèle","setModèle","année","setAnnée","carrosserie","setCarrosserie","motorisation","setMotorisation","version","setVersion","kilométrage","setKilométrage","delai","setDelai","prix","setPrix","categories","subs","setSubs","email","setEmail","phone","setPhone","loading","ok","autre","setAutre","labelCol","span","wrapperCol","layout","size","title","subTitle","Item","label","placeholder","onSelect","name","autoFocus","map","Option","value","margin","fontSize","onClick","values","window","alert","location","reload","response","marginLeft","block"],"mappings":"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","file":"static/js/16.5f2d44e6.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const createVoiture = async (voiture) => {\r\n  return await axios.post(`${process.env.REACT_APP_API}/voiture`, voiture, {});\r\n};\r\n\r\nexport const getVoituresByCount = async (count) => {\r\n  return await axios.get(`${process.env.REACT_APP_API}/voitures/${count}`);\r\n};\r\nexport const getVoituresByValidationCount = async (validation, count) => {\r\n  return await axios.post(\r\n    `${process.env.REACT_APP_API}/voitures/validation/limit`,\r\n    { validation, count }\r\n  );\r\n};\r\n\r\nexport const removeVoiture = async (_id, authtoken) => {\r\n  return await axios.delete(`${process.env.REACT_APP_API}/voiture/${_id}`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n};\r\n\r\nexport const getVoiture = async (_id) => {\r\n  return await axios.get(`${process.env.REACT_APP_API}/voiture/${_id}`);\r\n};\r\n\r\nexport const updateVoiture = async (_id, voiture, authtoken) => {\r\n  return await axios.put(\r\n    `${process.env.REACT_APP_API}/voiture/${_id}`,\r\n    voiture,\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n};\r\nexport const updateValidation = async (_id, validation, authtoken) => {\r\n  return await axios.put(\r\n    `${process.env.REACT_APP_API}/voiture/update/${_id}`,\r\n    validation,\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n};\r\n\r\nexport const getVoitures = async (validation, sort, order, page) => {\r\n  return await axios.post(`${process.env.REACT_APP_API}/voitures`, {\r\n    validation,\r\n    sort,\r\n    order,\r\n    page,\r\n  });\r\n};\r\n\r\nexport const getVoituresCount = async () => {\r\n  return await axios.get(`${process.env.REACT_APP_API}/voitures/total`);\r\n};\r\n\r\nexport const productStar = async (productId, star, authtoken) => {\r\n  return await axios.put(\r\n    `${process.env.REACT_APP_API}/voiture/star/${productId}`,\r\n    { star },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n};\r\n\r\n// serach/filter\r\n\r\nexport const fetchVoituresByFilter = async (arg) => {\r\n  return await axios.post(`${process.env.REACT_APP_API}/search/filters`, arg);\r\n};\r\n","import axios from \"axios\";\r\n\r\nexport const getCategories = async () => {\r\n  return await axios.get(`${process.env.REACT_APP_API}/categories`);\r\n};\r\n\r\nexport const getCategory = async (slug) => {\r\n  return await axios.get(`${process.env.REACT_APP_API}/category/${slug}`);\r\n};\r\n\r\nexport const removeCategory = async (slug, authtoken) => {\r\n  return await axios.delete(`${process.env.REACT_APP_API}/category/${slug}`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n};\r\n\r\nexport const updateCategory = async (slug, category, authtoken) => {\r\n  return await axios.put(\r\n    `${process.env.REACT_APP_API}/category/${slug}`,\r\n    category,\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n};\r\n\r\nexport const createCategory = async (category, authtoken) => {\r\n  return await axios.post(`${process.env.REACT_APP_API}/category`, category, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n};\r\n\r\nexport const getCategorySubs = async (_id) => {\r\n  return await axios.get(`${process.env.REACT_APP_API}/category/subs/${_id}`);\r\n};\r\n\r\n","import axios from \"axios\";\r\n\r\nexport const getSubs = async () => {\r\n  return await axios.get(`${process.env.REACT_APP_API}/subs`);\r\n};\r\n\r\nexport const getSub = async (slug) => {\r\n  return await axios.get(`${process.env.REACT_APP_API}/subs/${slug}`);\r\n};\r\n\r\nexport const removeSub = async (slug, authtoken) => {\r\n  return await axios.delete(`${process.env.REACT_APP_API}/sub/${slug}`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n};\r\n\r\nexport const updateSub = async (slug, sub, authtoken) => {\r\n  return await axios.put(`${process.env.REACT_APP_API}/sub/${slug}`, sub, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n};\r\n\r\nexport const createSub = async (sub, authtoken) => {\r\n  return await axios.post(`${process.env.REACT_APP_API}/sub`, sub, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n};\r\n","import Axios from \"axios\";\r\nimport React from \"react\";\r\nimport Resizer from \"react-image-file-resizer\";\r\n\r\nconst FileUpload = ({ images, setImages, setLoading, setOk }) => {\r\n  const fileUploadAndResize = async (e) => {\r\n    //   console.log(e.target.files);\r\n    // resize\r\n    let files = e.target.files;\r\n    let allUploadedFiles = images;\r\n    if (files) {\r\n      setLoading(true);\r\n      for (let i = 0; i < files.length; i++) {\r\n        await Resizer.imageFileResizer(\r\n          files[i],\r\n          300,\r\n          300,\r\n          \"JPEG\",\r\n          100,\r\n          0,\r\n          async (uri) => {\r\n            // console.log(uri);\r\n            await Axios.post(`${process.env.REACT_APP_API}/uploadimages`, {\r\n              image: uri,\r\n            })\r\n              .then((res) => {\r\n                console.log(\"IMAGE UPLOAD RES DATA\", res);\r\n                setLoading(false);\r\n                setOk(true);\r\n                allUploadedFiles.push(res.data);\r\n                setImages(allUploadedFiles);\r\n              })\r\n              .catch((err) => {\r\n                setLoading(false);\r\n                console.log(\"CLOUDINARY UPLOAD ERROR\", err);\r\n              });\r\n          },\r\n          \"base64\"\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <label\r\n        style={{\r\n          backgroundColor: \"#e87524\",\r\n          color: \"white\",\r\n          marginRight: \"1rem\",\r\n        }}\r\n        className=\"btn btn-raised \"\r\n      >\r\n        Choisir des Images\r\n        <input\r\n          style={{ width: \"50%\", height: \"50px\" }}\r\n          type=\"file\"\r\n          multiple\r\n          hidden\r\n          accept=\"images/*\"\r\n          onChange={fileUploadAndResize}\r\n        />\r\n      </label>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FileUpload;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Form, Input, PageHeader, Button, Select } from \"antd\";\r\nimport { LoadingOutlined, CheckCircleTwoTone } from \"@ant-design/icons\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  getCategory,\r\n  getCategories,\r\n  getCategorySubs,\r\n} from \"../../JS/actions/category\";\r\nimport { createVoiture } from \"../../JS/actions/voiture\";\r\nimport { getSubs } from \"../../JS/actions/sub\";\r\nimport FileUpload from \"../../components/form/FileUpload\";\r\n\r\nconst FormAuto = () => {\r\n  const year = new Date().getFullYear();\r\n  const years = Array.from(new Array(30), (val, index) => year - index);\r\n\r\n  const loadCategories = () => {\r\n    getCategories()\r\n      .then((c) => {\r\n        setCategories(c.data);\r\n      })\r\n      .catch((err) => {\r\n        toast.error(\"Loading Marques Failed \");\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    loadCategories();\r\n  }, []);\r\n\r\n  const loadSubs = (slug) => {\r\n    !slug\r\n      ? getSubs()\r\n          .then((res) => {\r\n            setSubs(res.data);\r\n          })\r\n          .catch((err) => {\r\n            toast.error(\"Loading subs Failed \");\r\n          })\r\n      : getCategory(slug)\r\n          .then((res) => {\r\n            setMarque(res.data.name);\r\n          })\r\n          .catch((err) => {\r\n            toast.error(\"Loading Marque Failed \");\r\n          });\r\n\r\n    getCategorySubs(slug)\r\n      .then((res) => {\r\n        setSubs(res.data);\r\n      })\r\n      .catch((err) => {\r\n        toast.error(\"Loading subs Failed \");\r\n      });\r\n  };\r\n\r\n  const [marque, setMarque] = useState(\"\");\r\n  const [modèle, setModèle] = useState(\"\");\r\n  const [année, setAnnée] = useState(\"\");\r\n  const [carrosserie, setCarrosserie] = useState(\"\");\r\n  const [motorisation, setMotorisation] = useState(\"\");\r\n  const [version, setVersion] = useState(\"\");\r\n  const [kilométrage, setKilométrage] = useState(\"\");\r\n  const [delai, setDelai] = useState(\"\");\r\n  const [prix, setPrix] = useState(\"\");\r\n  const [images, setImages] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [subs, setSubs] = useState([]);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [ok, setOk] = useState(false);\r\n  const [autre, setAutre] = useState(\"\");\r\n  const [validation, setValidation] = useState(\"false\");\r\n  const handleSubmit = () => {\r\n    if (!phone) {\r\n      toast.error(\"Numéro de télephone est obligatoire\");\r\n      return;\r\n    }\r\n    const values = {\r\n      marque,\r\n      modèle,\r\n      année,\r\n      carrosserie,\r\n      motorisation,\r\n      version,\r\n      kilométrage,\r\n      delai,\r\n      autre,\r\n      prix,\r\n      images,\r\n      email,\r\n      phone,\r\n      validation,\r\n    };\r\n    console.log(values);\r\n    createVoiture(values)\r\n      .then((res) => {\r\n        // console.log(res);\r\n        window.alert(`voiture enregistrer avec succès`);\r\n        window.location.reload();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        // if (err.response.status === 400) toast.error(err.response.data);\r\n        toast.error(err.response.data.err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Form\r\n        className=\"p-3 Form-site-page-header\"\r\n        labelCol={{ span: 4 }}\r\n        wrapperCol={{ span: 14 }}\r\n        layout=\"horizontal\"\r\n        size={\"default\"}\r\n      >\r\n        <PageHeader\r\n          className=\"site-page-header\"\r\n          title=\"Saisissez ces informations et recevez une estimation de votre voiture\"\r\n          subTitle=\"(N° Téléphone est obligatoire)* \"\r\n        />\r\n        <Form.Item label=\"Marque\">\r\n          <Select\r\n            placeholder=\"choisir marque\"\r\n            onSelect={(e) => loadSubs(e)}\r\n            autoFocus\r\n          >\r\n            {categories.length > 0 &&\r\n              categories.map((c) => (\r\n                <Select.Option key={c._id} value={c._id}>\r\n                  {c.name}\r\n                </Select.Option>\r\n              ))}\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item label=\"Modèle\">\r\n          <Select placeholder=\"select modèle\" onSelect={(e) => setModèle(e)}>\r\n            {subs.length > 0 &&\r\n              subs.map((c) => (\r\n                <Select.Option key={c._id} value={c.name}>\r\n                  {c.name}\r\n                </Select.Option>\r\n              ))}\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item label=\"Année\">\r\n          <Select onSelect={(e) => setAnnée(e)} placeholder=\"choisir année\">\r\n            {years.map((year, index) => {\r\n              return (\r\n                <Select.Option key={`year${index}`} value={year}>\r\n                  {year}\r\n                </Select.Option>\r\n              );\r\n            })}\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item label=\"Carrosserie\">\r\n          <Select\r\n            onSelect={(e) => setCarrosserie(e)}\r\n            placeholder=\"choisir un modèle\"\r\n          >\r\n            <Select.Option value=\"Break\">Break</Select.Option>\r\n            <Select.Option value=\"Berline\">Berline</Select.Option>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item label=\"Motorisation\">\r\n          <Select\r\n            placeholder=\"choisir un type\"\r\n            onSelect={(e) => setMotorisation(e)}\r\n          >\r\n            <Select.Option value=\"Essence\">Essence</Select.Option>\r\n            <Select.Option value=\"Diesel\">Diesel</Select.Option>\r\n            <Select.Option value=\"Diesel\">Hybride</Select.Option>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item label=\"Version\">\r\n          <Select placeholder=\"choisir un type\" onSelect={(e) => setVersion(e)}>\r\n            <Select.Option value=\"Boite de vitesse automatique\">\r\n              Boite de vitesse automatique\r\n            </Select.Option>\r\n            <Select.Option value=\"Boite de vitesse manuelle\">\r\n              Boite de vitesse manuelle\r\n            </Select.Option>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item label=\"Kilométrage\">\r\n          <Select\r\n            placeholder=\"choisir le nombre de kms\"\r\n            onSelect={(e) => setKilométrage(e)}\r\n          >\r\n            <Select.Option value=\"5000~10000\">entre 5000~10000</Select.Option>\r\n            <Select.Option value=\"10000~20000\">entre 10000~20000</Select.Option>\r\n            <Select.Option value=\"20000~30000\">entre 20000~30000</Select.Option>\r\n            <Select.Option value=\"30000~40000\">entre 30000~40000</Select.Option>\r\n            <Select.Option value=\"40000~60000\">entre 40000~60000</Select.Option>\r\n            <Select.Option value=\"60000~80000\">entre 60000~80000</Select.Option>\r\n            <Select.Option value=\"80000~100000\">\r\n              entre 80000~100000\r\n            </Select.Option>\r\n            <Select.Option value=\"100000~125000\">\r\n              entre 100000~125000\r\n            </Select.Option>\r\n            <Select.Option value=\"125000~150000\">\r\n              entre 125000~150000\r\n            </Select.Option>\r\n            <Select.Option value=\"plus de 150000\">plus de 150000</Select.Option>{\" \"}\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item label=\"Delai de vente\">\r\n          <Select\r\n            placeholder=\"choisir une option\"\r\n            onSelect={(e) => setDelai(e)}\r\n          >\r\n            <Select.Option value=\"le plus vite possible\">\r\n              le plus vite possible{\" \"}\r\n            </Select.Option>\r\n            <Select.Option value=\"Dans les 4 prochaines semaines\">\r\n              Dans les 4 prochaines semaines{\" \"}\r\n            </Select.Option>\r\n            <Select.Option value=\"Dans les 3 mois\">\r\n              Dans les 3 mois{\" \"}\r\n            </Select.Option>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item label=\"Ajouter des Images\">\r\n          <FileUpload\r\n            images={images}\r\n            setImages={setImages}\r\n            setLoading={setLoading}\r\n            setOk={setOk}\r\n          />\r\n          <br />\r\n          <br />\r\n          <div className=\"col text-center\" style={{ margin: \"0 auto\" }}>\r\n            {loading && (\r\n              <LoadingOutlined\r\n                className=\"text-center\"\r\n                style={{ fontSize: \"30px\" }}\r\n              />\r\n            )}\r\n            {ok && (\r\n              <>\r\n                <CheckCircleTwoTone\r\n                  style={{ color: \"green\", fontSize: \"30px\" }}\r\n                />{\" \"}\r\n              </>\r\n            )}\r\n          </div>\r\n        </Form.Item>\r\n        <Form.Item label=\"Prix Proposé\">\r\n          <Input\r\n            size=\"small\"\r\n            type=\"number\"\r\n            onChange={(e) => setPrix(e.target.value)}\r\n            placeholder=\"€\"\r\n            className=\"text-center\"\r\n          />\r\n        </Form.Item>\r\n        <Form.Item label=\"Autres Informations\">\r\n          <Input size=\"small\" onChange={(e) => setAutre(e.target.value)} />\r\n        </Form.Item>\r\n        <Form.Item label=\"E-mail\">\r\n          <Input onChange={(e) => setEmail(e.target.value)} size=\"small\" />\r\n        </Form.Item>{\" \"}\r\n        <Form.Item name=\"phone\" label=\"N° Téléphone\">\r\n          <Input\r\n            onChange={(e) => setPhone(e.target.value)}\r\n            type=\"number\"\r\n            size=\"small\"\r\n            className=\"text-center\"\r\n          />\r\n        </Form.Item>{\" \"}\r\n        <Form.Item>\r\n          <Button\r\n            onClick={handleSubmit}\r\n            style={{ marginLeft: \"163px\" }}\r\n            type=\"primary\"\r\n            block\r\n          >\r\n            Valider\r\n          </Button>{\" \"}\r\n        </Form.Item>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\nexport default FormAuto;\r\n"],"sourceRoot":""}